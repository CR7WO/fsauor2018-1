# fsauor2018
***
### 题目介绍
该题目为《细粒度用户评论情感分析》，来源于“全球AI挑战赛”。https://challenger.ai/competition/fsauor2018
对于题目内容以及任务描述均可从该网站获取，这里不再赘述。
### 成绩
单个模型最好的F1指标为：75.04  
整体20个模型的综合F1指标为：68  
### 数据集
数据集由比赛平台提供。包含105000条训练样本以及15000条测试样本。  
关于数据集的标注可以点击[这里](数据集/sentiment_analysis_trainingset_annotations.pdf)查看。  
### 环境依赖
tensorflow 1.8.0-gpu
### 整体思路
由于我们需要对一条评论从20个层面进行情感分析，是一个典型的多标签学习任务。我这里通过训练20个4-分类器，对于一个评论文本，
每个分类器对其进行分析。最终20个分类器得到的结果汇总起来即为该模型对这条评论的结果。
### 模型架构
![模型结构](/src/model.png)
### 超参数的选择
* 
### 主要难点
1. **句子风格偏口语化。**<br>
评论来自于美食类网站中店铺下方的评论，评论者为消费者，评论对象为某店铺，因此评论风格偏口语化。  
评论中含有较多的表情符号，如^_^，O(∩_∩)O等，也含有较多的emoji表情。同时，也包含一些语法不规范的句式，比如语气词较多，标点符号不规范等。  
因此比起时评，新闻或者文学作品，模型更难把握这种风格句式的情感倾向。  
我在预处理阶段，先把繁体字转化为简体字后，把所有非中文字符移除（移除标点以及emoji表情），然后用jieba分词。  
分词之后，进行embedding（使用gensim中的word2vec库）。  
*也可以直接下载网络上已经训练好的词向量模型，我这里仅在官方给的评论上进行词嵌入。不过我看这次比赛冠军的[github](https://github.com/chenghuige/wenzheng/tree/master/projects/ai2018/sentiment)中提到他用的是1kw的外部点评数据，效果比较明显。*

2. **个别标签类别不均衡现象严重**<br>
以“排队等候时间”标签为例，在训练集中，有93.60%的评论没有提及某店铺是否容易停车。这就造成了模型对“未提及”的预测准确率以及召回率都特别高，但是对于“中性评价”、“好评”、“差评”预测的准确率以及召回率都特别低。  
综合起来，模型对该标签的F1值仅有
3. **对“中性评价”的预测总是最差的**<br>

### 参考文献
[1]姜坤. 基于LSTM和注意力机制的情感分析服务设计与实现[D].南京大学,2018.